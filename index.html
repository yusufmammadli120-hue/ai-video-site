<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>M…ôqs…ôd ƒ∞zl…ôyici</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#f4f6f8;
}
header{
  background:#1fbf75;
  color:white;
  padding:15px;
  text-align:center;
}
button{
  background:#1fbf75;
  border:none;
  padding:10px 15px;
  color:white;
  border-radius:6px;
  cursor:pointer;
}
.container{
  padding:20px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  gap:15px;
}
.card{
  background:white;
  padding:15px;
  border-radius:10px;
  box-shadow:0 3px 6px rgba(0,0,0,.1);
}
.progress{
  background:#ddd;
  border-radius:10px;
  overflow:hidden;
  height:10px;
}
.bar{
  height:100%;
  background:#1fbf75;
}
.actions{
  display:flex;
  justify-content:space-between;
  margin-top:10px;
}
.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.4);
  display:none;
  justify-content:center;
  align-items:center;
}
.modalContent{
  background:white;
  padding:20px;
  border-radius:10px;
  width:300px;
}
input,select{
  width:100%;
  padding:8px;
  margin:5px 0;
}
@media(max-width:768px){
  .container{grid-template-columns:1fr;}
}
</style>
</head>

<body>

<header>
<h2>M…ôqs…ôd ƒ∞zl…ôyici</h2>
<button onclick="openAdd()">+ ∆èlav…ô Et</button>
</header>

<div class="container" id="list"></div>

<div class="modal" id="modal">
<div class="modalContent">
<h3 id="title">H…ôd…ôf</h3>
<input id="name" placeholder="H…ôd…ôf adƒ±">
<input id="link" placeholder="Link v…ô ya 0000">
<select id="type">
<option value="Pul">Pul</option>
<option value="G√ºn">G√ºn</option>
<option value="Km">Km</option>
</select>
<input id="max" type="number" placeholder="Maksimum">
<input id="now" type="number" placeholder="Hazƒ±rda olan">
<button onclick="save()">Yadda Saxla</button>
</div>
</div>

<script>
let data=JSON.parse(localStorage.getItem("goals")||"[]");
let edit=-1;

function render(){
  list.innerHTML="";
  data.forEach((g,i)=>{
    let p=Math.min(g.now/g.max*100,100);
    list.innerHTML+=`
    <div class="card">
      <h4>${g.name}</h4>
      <small>${g.type}: ${g.now}/${g.max}</small>
      <div class="progress"><div class="bar" style="width:${p}%"></div></div>
      <div class="actions">
        <button onclick="daily(${i})">+ G√ºnl√ºk</button>
        <button onclick="editGoal(${i})">‚úèÔ∏è</button>
        <button onclick="del(${i})">üóë</button>
      </div>
    </div>`;
  });
  localStorage.setItem("goals",JSON.stringify(data));
}

function openAdd(){
  modal.style.display="flex";
  title.innerText="H…ôd…ôf ∆èlav…ô Et";
  name.value=link.value=max.value=now.value="";
  edit=-1;
}

function save(){
  let g={
    name:name.value,
    link:link.value,
    type:type.value,
    max:+max.value,
    now:+now.value
  };
  if(edit==-1) data.push(g);
  else data[edit]=g;
  modal.style.display="none";
  render();
}

function editGoal(i){
  let g=data[i];
  name.value=g.name;
  link.value=g.link;
  type.value=g.type;
  max.value=g.max;
  now.value=g.now;
  edit=i;
  modal.style.display="flex";
}

function del(i){
  if(confirm("Silinsin?")){
    data.splice(i,1);
    render();
  }
}

function daily(i){
  let v=prompt(`Bu g√ºn ne√ß…ô ${data[i].type} …ôlav…ô etdin?`);
  if(v){
    data[i].now+=+v;
    render();
  }
}

render();
</script>

</body>
</html>
